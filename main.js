(()=>{"use strict";var e=document.querySelector(".profile__edit-botton"),t=document.querySelector(".profile__add-botton"),r=(document.querySelector(".form_type_adding"),document.querySelector(".form__textinput_type_edit-full-name")),n=document.querySelector(".form__textinput_type_edit-description"),o=addingForm.querySelector(".form__submit-button_type_adding-add-button"),i={formSelector:".form__container_type_submit-form",inputSelector:".form__textinput",submitButtonSelector:".form__submit-button",errorSelector:".form_error",inactiveButtonClass:"form__submit-button_disabled",inputErrorClass:"form__textinput_type_error",errorClass:"form__error_visible"};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=function(){r._togglePopupStatus(r._form),r._closeButton.removeEventListener("keydown",r.close),document.removeEventListener("keydown",r._handleEscClose),r._form.removeEventListener("click",r._handleClickClose)},this.setEventListeners=function(){document.addEventListener("keydown",r._handleEscClose),r._closeButton.addEventListener("click",r.close),r._form.addEventListener("click",r._handleClickClose)},this._togglePopupStatus=function(e){e.classList.toggle("form_status_active")},this._handleClickClose=function(e){e.target===e.currentTarget&&r.close()},this._handleEscClose=function(e){"Escape"===e.key&&r.close()},this._form=document.querySelector(t),this._formContainer=this._form.querySelector(".form__container"),this._closeButton=this._form.querySelector(".form__close-button"),this._submitButtom=this._form.querySelector(".form__submit-button")}var t,r;return t=e,(r=[{key:"open",value:function(){this._togglePopupStatus(this._form),this.setEventListeners()}}])&&s(t.prototype,r),e}();function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(o){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e))._viewerImg=t._form.querySelector(".form__foto-viewer-img"),t._viewerDescription=t._form.querySelector(".form__foto-viewer-description"),t}return t=s,(r=[{key:"open",value:function(e,t){this._viewerImg.setAttribute("src",t),this._viewerImg.setAttribute("alt",e),this._viewerDescription.textContent=e,l(d(s.prototype),"open",this).call(this)}}])&&u(t.prototype,r),s}(c);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=b(t);if(r){var o=b(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return y(this,e)});function o(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,e)).close=function(){r._formContainer.reset(),r._togglePopupStatus(r._form),document.removeEventListener("keydown",r._handleEscClose),r._closeButton.removeEventListener("click",r.close),r._form.removeEventListener("click",r._handleClickClose),r._formContainer.removeEventListener("submit",r._submit)},r.setEventListeners=function(){document.addEventListener("keydown",r._handleEscClose),r._closeButton.addEventListener("click",r.close),r._form.addEventListener("click",r._handleClickClose),r._formContainer.addEventListener("submit",r._submit)},r._getInputsValues=function(){var e=r._form.querySelectorAll(".form__textinput"),t={};return e.forEach((function(e,r){t["value".concat(r)]=e.value})),t},r._submit=t.bind(v(r)),r}return o}(c);function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var k=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._selector=r,this._openViewerForm=n}var t,r;return t=e,(r=[{key:"_getTamplate",value:function(){return document.querySelector(this._selector).content.cloneNode(!0).querySelector(".gallery-item")}},{key:"_likeHandler",value:function(){var e=this;this._cardProperties.like.addEventListener("click",(function(){e._cardProperties.like.classList.toggle("gallery-item__heart-button_type_active")}))}},{key:"_deleteHandler",value:function(){var e=this;this._cardProperties.trash.addEventListener("click",(function(t){e._card.remove(),e._card=null}))}},{key:"_imgHandler",value:function(){var e=this;this._cardProperties.img.addEventListener("click",(function(){e._openViewerForm(e._name,e._link)}))}},{key:"_setEventListeners",value:function(){this._likeHandler(),this._deleteHandler(),this._imgHandler()}},{key:"generateCard",value:function(){return this._card=this._getTamplate(),this._cardProperties={img:this._card.querySelector(".gallery-item__image"),like:this._card.querySelector(".gallery-item__heart-button"),trash:this._card.querySelector(".gallery-item__trash-button"),title:this._card.querySelector(".gallery-item__title")},this._cardProperties.img.setAttribute("src","".concat(this._link)),this._cardProperties.img.setAttribute("alt","".concat(this._name)),this._cardProperties.title.textContent=this._name,this._setEventListeners(),this._card}}])&&S(t.prototype,r),e}(),E=function(e,t,r){return new k(e,t,r).generateCard()},w=function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._showErrorMessage=function(e,t){e.textContent=t.validationMessage,e.classList.add(n._errorClass)},this._hideErrorMessage=function(e){e.classList.remove(n._errorClass)},this._checkInputValidity=function(e,t){var r=t.validity.valid,o=e.querySelector("#".concat(t.name,"-error"));r?(n._hideErrorMessage(o),t.classList.remove(n._inputErrorClass)):(n._showErrorMessage(o,t),t.classList.add(n._inputErrorClass))},this._changeSubmitButtonStatus=function(e,t){var r=e.querySelector(n._submitButtonSelector);t.map((function(e){return e.validity.valid})).some((function(e){return!e}))?(r.classList.add(n._inactiveButtonClass),r.setAttribute("disabled",!0)):(r.classList.remove(n._inactiveButtonClass),r.removeAttribute("disabled"))},this.setEventListeners=function(e){var t=Array.from(e.querySelectorAll(n._inputSelector));t.forEach((function(r){r.addEventListener("input",(function(){n._checkInputValidity(e,r),n._changeSubmitButtonStatus(e,t)}))}))},this.enableValidation=function(){var e=document.querySelector(n._selector);e.addEventListener("submit",(function(e){e.preventDefault()})),n.setEventListeners(e)},this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._errorSelector=t.errorSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._selector=r},C=new function e(t,r){var n=this,o=t.items,i=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addItem=function(e){n._container.prepend(e)},this.renderItems=function(){n._items.forEach((function(e){var t=n._renderer(e);n.addItem(t)}))},this._items=o,this._renderer=i,this._container=document.querySelector(r)}({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){return E(e,"#gallery-item",P.open.bind(P))}},".gallery"),L=new function e(t){var r=this,n=t.nameSelector,o=t.userInfoSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getUserinfo=function(){return{fullName:r._nameSelector.textContent,userDescription:r._userInfoSelector.textContent}},this.setUserInfo=function(e){var t=e.value0,n=e.value1;r._nameSelector.textContent=t,r._userInfoSelector.textContent=n},this._nameSelector=document.querySelector(n),this._userInfoSelector=document.querySelector(o)}({nameSelector:".profile__full-name",userInfoSelector:".profile__description"}),P=new p(".form_type_foto-viewer"),q=new g(".form_type_edit",(function(){L.setUserInfo(this._getInputsValues()),this.close()})),O=new g(".form_type_adding",(function(){var e=this._getInputsValues(),t={name:e.value0,link:e.value1},r=E(t,"#gallery-item",P.open.bind(P));C.addItem(r),this.close()}));new w(i,".form__container_type_edit").enableValidation(),new w(i,".form__container_type_adding").enableValidation(),e.addEventListener("click",(function(){var e=L.getUserinfo();r.value=e.fullName,n.value=e.userDescription,q.open()})),t.addEventListener("click",(function(){o.setAttribute("disabled",!0),o.classList.add("form__submit-button_disabled"),O.open()})),C.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sIm5hbWVzIjpbInByb2ZpbGVFZGl0QnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUFkZGluZ0J1dHRvbiIsImVkaXRGb3JtRnVsbE5hbWUiLCJlZGl0Rm9ybURlc2NyaXB0aW9uIiwic3VibWl0QnV0dG9uIiwiYWRkaW5nRm9ybSIsInBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0iLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJQb3B1cCIsInNlbGVjdG9yIiwiY2xvc2UiLCJfdG9nZ2xlUG9wdXBTdGF0dXMiLCJfZm9ybSIsIl9jbG9zZUJ1dHRvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsInNldEV2ZW50TGlzdGVuZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVsZW0iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJldmVudCIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJrZXkiLCJ0aGlzIiwiX2Zvcm1Db250YWluZXIiLCJfc3VibWl0QnV0dG9tIiwiUG9wdXBXaXRoSW1hZ2UiLCJfdmlld2VySW1nIiwiX3ZpZXdlckRlc2NyaXB0aW9uIiwibmFtZSIsImxpbmsiLCJzZXRBdHRyaWJ1dGUiLCJ0ZXh0Q29udGVudCIsIlBvcHVwV2l0aEZvcm0iLCJzdWJtaXQiLCJyZXNldCIsIl9zdWJtaXQiLCJfZ2V0SW5wdXRzVmFsdWVzIiwiZGF0YVVzZXJBcnIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGF0YVVzZXIiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwidmFsdWUiLCJiaW5kIiwiQ2FyZCIsImRhdGEiLCJvcGVuVmlld2VyRm9ybSIsIl9uYW1lIiwiX2xpbmsiLCJfc2VsZWN0b3IiLCJfb3BlblZpZXdlckZvcm0iLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRQcm9wZXJ0aWVzIiwibGlrZSIsInRyYXNoIiwiX2NhcmQiLCJyZW1vdmUiLCJpbWciLCJfbGlrZUhhbmRsZXIiLCJfZGVsZXRlSGFuZGxlciIsIl9pbWdIYW5kbGVyIiwiX2dldFRhbXBsYXRlIiwidGl0bGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjcmVhdGVOZXdDYXJkIiwidGVtcGxhdGUiLCJmdW5jIiwiZ2VuZXJhdGVDYXJkIiwiRm9ybVZhbGlkYXRvciIsInBhcmFtcyIsIl9zaG93RXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJhZGQiLCJfZXJyb3JDbGFzcyIsIl9oaWRlRXJyb3JNZXNzYWdlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImZvcm0iLCJpbnB1dEVsZW1lbnRTdGF0ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2NoYW5nZVN1Ym1pdEJ1dHRvblN0YXR1cyIsInVzZXJJbnB1dHMiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJtYXAiLCJpbnB1dCIsInNvbWUiLCJzdGF0ZSIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwicmVtb3ZlQXR0cmlidXRlIiwiQXJyYXkiLCJmcm9tIiwiX2lucHV0U2VsZWN0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwidXNlckZvcm0iLCJwcmV2ZW50RGVmYXVsdCIsIl9mb3JtU2VsZWN0b3IiLCJfZXJyb3JTZWxlY3RvciIsImdhbGxlcnlJdGVtcyIsIml0ZW1zIiwicmVuZGVyZXIiLCJhZGRJdGVtIiwiZWxlbWVudCIsIl9jb250YWluZXIiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJwb3B1cFBob3RvVmlld2VyIiwib3BlbiIsInVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwidXNlckluZm9TZWxlY3RvciIsImdldFVzZXJpbmZvIiwiZnVsbE5hbWUiLCJfbmFtZVNlbGVjdG9yIiwidXNlckRlc2NyaXB0aW9uIiwiX3VzZXJJbmZvU2VsZWN0b3IiLCJzZXRVc2VySW5mbyIsInZhbHVlMCIsInZhbHVlMSIsInBvcHVwRWRpdEZvcm0iLCJwb3B1cEFkZGluZ0Zvcm0iLCJkYXRhSW5wdXQiLCJjYXJkIiwidXNlckRhdGEiXSwibWFwcGluZ3MiOiJtQkFBTyxJQUFNQSxFQUFvQkMsU0FBU0MsY0FBYyx5QkFDM0NDLEVBQXNCRixTQUFTQyxjQUFjLHdCQUU3Q0UsR0FEa0JILFNBQVNDLGNBQWMscUJBQ3RCRCxTQUFTQyxjQUFjLHlDQUMxQ0csRUFBc0JKLFNBQVNDLGNBQWMsMENBQzdDSSxFQUFlQyxXQUFXTCxjQUFjLCtDQTZCeENNLEVBQTRCLENBQ3ZDQyxhQUFjLG9DQUNkQyxjQUFlLG1CQUNmQyxxQkFBc0IsdUJBQ3RCQyxjQUFlLGNBQ2ZDLG9CQUFxQiwrQkFDckJDLGdCQUFpQiw2QkFDakJDLFdBQVksdUIsMEtDekNP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QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYm90dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1ib3R0b24nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkaW5nRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfYWRkaW5nJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybUZ1bGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RleHRpbnB1dF90eXBlX2VkaXQtZnVsbC1uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RleHRpbnB1dF90eXBlX2VkaXQtZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGFkZGluZ0Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Ym1pdC1idXR0b25fdHlwZV9hZGRpbmctYWRkLWJ1dHRvbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJyxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0gPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm1fX2NvbnRhaW5lcl90eXBlX3N1Ym1pdC1mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX3RleHRpbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0LWJ1dHRvbicsXHJcbiAgZXJyb3JTZWxlY3RvcjogJy5mb3JtX2Vycm9yJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9fdGV4dGlucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybUNvbnRhaW5lciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2NvbnRhaW5lcicpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19jbG9zZS1idXR0b24nKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbSA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Ym1pdC1idXR0b24nKTtcclxuICB9XHJcblxyXG4gIG9wZW4gKCkge1xyXG4gICAgdGhpcy5fdG9nZ2xlUG9wdXBTdGF0dXModGhpcy5fZm9ybSk7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2UgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl90b2dnbGVQb3B1cFN0YXR1cyh0aGlzLl9mb3JtKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmNsb3NlKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tDbG9zZSk7XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlUG9wdXBTdGF0dXMgPSAoZWxlbSkgPT4ge1xyXG4gICAgZWxlbS5jbGFzc0xpc3QudG9nZ2xlKCdmb3JtX3N0YXR1c19hY3RpdmUnKTtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlQ2xpY2tDbG9zZSA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNlbGVjdG9yKSB7XHJcbiAgICAgIHN1cGVyKHNlbGVjdG9yKTtcclxuICAgICAgdGhpcy5fdmlld2VySW1nID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fZm90by12aWV3ZXItaW1nJyk7XHJcbiAgICAgIHRoaXMuX3ZpZXdlckRlc2NyaXB0aW9uPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX19mb3RvLXZpZXdlci1kZXNjcmlwdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4gKG5hbWUsIGxpbmspIHtcclxuICAgICAgdGhpcy5fdmlld2VySW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgbGluayk7XHJcbiAgICAgIHRoaXMuX3ZpZXdlckltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIG5hbWUpO1xyXG4gICAgICB0aGlzLl92aWV3ZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgc3VibWl0KSB7XHJcbiAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9zdWJtaXQgPSBzdWJtaXQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZm9ybUNvbnRhaW5lci5yZXNldCgpO1xyXG4gICAgdGhpcy5fdG9nZ2xlUG9wdXBTdGF0dXModGhpcy5fZm9ybSk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0Nsb3NlKTtcclxuICAgIHRoaXMuX2Zvcm1Db250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5fc3VibWl0KTtcclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xyXG4gICAgdGhpcy5fZm9ybUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9zdWJtaXQpO1xyXG4gIH07XHJcblxyXG4gIF9nZXRJbnB1dHNWYWx1ZXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhVXNlckFyciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX3RleHRpbnB1dCcpO1xyXG4gICAgbGV0IGRhdGFVc2VyID0ge307XHJcbiAgICBkYXRhVXNlckFyci5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICBkYXRhVXNlcltgdmFsdWUke2luZGV4fWBdID0gaXRlbS52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRhdGFVc2VyO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgc2VsZWN0b3IsIG9wZW5WaWV3ZXJGb3JtKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdGhpcy5fb3BlblZpZXdlckZvcm0gPSBvcGVuVmlld2VyRm9ybTtcbiAgfVxuXG4gIF9nZXRUYW1wbGF0ZSgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGNvbnN0IGNhcmQgPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtJyk7XG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICBfbGlrZUhhbmRsZXIoKSB7XG4gICAgdGhpcy5fY2FyZFByb3BlcnRpZXMubGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLmxpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZ2FsbGVyeS1pdGVtX19oZWFydC1idXR0b25fdHlwZV9hY3RpdmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVIYW5kbGVyKCkge1xuICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLnRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICAgICAgdGhpcy5fY2FyZCA9IG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBfaW1nSGFuZGxlcigpIHtcbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuVmlld2VyRm9ybSh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlSGFuZGxlcigpO1xuICAgIHRoaXMuX2RlbGV0ZUhhbmRsZXIoKTtcbiAgICB0aGlzLl9pbWdIYW5kbGVyKCk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRhbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcyA9IHtcbiAgICAgICdpbWcnOiB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5LWl0ZW1fX2ltYWdlJyksXG4gICAgICAnbGlrZSc6IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktaXRlbV9faGVhcnQtYnV0dG9uJyksXG4gICAgICAndHJhc2gnOiAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtX190cmFzaC1idXR0b24nKSxcbiAgICAgICd0aXRsZSc6IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktaXRlbV9fdGl0bGUnKVxuICAgIH1cblxuICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLmltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke3RoaXMuX2xpbmt9YCk7XG4gICAgdGhpcy5fY2FyZFByb3BlcnRpZXMuaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgYCR7dGhpcy5fbmFtZX1gKTtcbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcy50aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICB9XG59XG4iLCJpbXBvcnQge0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChkYXRhLCB0ZW1wbGF0ZSwgZnVuYykgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCB0ZW1wbGF0ZSwgZnVuYyk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBwYXJhbXMuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBwYXJhbXMuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHBhcmFtcy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9lcnJvclNlbGVjdG9yID0gIHBhcmFtcy5lcnJvclNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBwYXJhbXMuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBwYXJhbXMuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSAgcGFyYW1zLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIF9zaG93RXJyb3JNZXNzYWdlID0gKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlRXJyb3JNZXNzYWdlID0gKGVycm9yRWxlbWVudCkgPT4ge1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybSwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50U3RhdGUgPSBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQubmFtZX0tZXJyb3JgKTtcblxuICAgIGlmIChpbnB1dEVsZW1lbnRTdGF0ZSkge1xuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShlcnJvckVsZW1lbnQpO1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yTWVzc2FnZShlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIH1cbiAgfTtcblxuICBfY2hhbmdlU3VibWl0QnV0dG9uU3RhdHVzID0gKGZvcm0sIHVzZXJJbnB1dHMpID0+IHtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgY29uc3QgaW5wdXRzVmFsaWRhdGlvblN0YXRlID0gdXNlcklucHV0cy5tYXAoaW5wdXQgPT4ge1xuICAgICAgcmV0dXJuIGlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1WYWxpZCA9ICFpbnB1dHNWYWxpZGF0aW9uU3RhdGUuc29tZShzdGF0ZSA9PiB7XG4gICAgICByZXR1cm4gIXN0YXRlO1xuICAgIH0pO1xuXG4gICAgaWYgKGZvcm1WYWxpZCkge1xuICAgICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm0pID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuXG4gICAgdXNlcklucHV0cy5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtLCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VTdWJtaXRCdXR0b25TdGF0dXMoZm9ybSwgdXNlcklucHV0cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gICAgdXNlckZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnModXNlckZvcm0pO1xuICB9O1xufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMsIHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sIHByb2ZpbGVFZGl0QnV0dG9uLCBwcm9maWxlQWRkaW5nQnV0dG9uLCBlZGl0Rm9ybUZ1bGxOYW1lLCBlZGl0Rm9ybURlc2NyaXB0aW9uLCBzdWJtaXRCdXR0b24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IGNyZWF0ZU5ld0NhcmQgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuXG5mdW5jdGlvbiBzdWJtaXRFZGl0Rm9ybSAoKSB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHRoaXMuX2dldElucHV0c1ZhbHVlcygpKTtcbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuZnVuY3Rpb24gc3VibWl0QWRkaW5nRm9ybSAoKSB7XG4gIGNvbnN0IGRhdGFVc2VyID0gdGhpcy5fZ2V0SW5wdXRzVmFsdWVzKCk7XG4gIGNvbnN0IGRhdGFJbnB1dCA9IHtcbiAgICBuYW1lOiBkYXRhVXNlci52YWx1ZTAsXG4gICAgbGluazogZGF0YVVzZXIudmFsdWUxXG4gIH07XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVOZXdDYXJkKGRhdGFJbnB1dCwgJyNnYWxsZXJ5LWl0ZW0nLCBwb3B1cFBob3RvVmlld2VyLm9wZW4uYmluZChwb3B1cFBob3RvVmlld2VyKSk7XG4gIGdhbGxlcnlJdGVtcy5hZGRJdGVtKGNhcmQpO1xuICB0aGlzLmNsb3NlKCk7XG59O1xuXG5jb25zdCBvcGVuRWRpdEZvcm0gPSAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlcmluZm8oKTtcbiAgZWRpdEZvcm1GdWxsTmFtZS52YWx1ZSA9IHVzZXJEYXRhLmZ1bGxOYW1lO1xuICBlZGl0Rm9ybURlc2NyaXB0aW9uLnZhbHVlID0gdXNlckRhdGEudXNlckRlc2NyaXB0aW9uO1xuICBwb3B1cEVkaXRGb3JtLm9wZW4oKTtcbn07XG5cbmNvbnN0IG9wZW5BZGRpbmdGb3JtID0gKCkgPT4ge1xuICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnZm9ybV9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcpO1xuICBwb3B1cEFkZGluZ0Zvcm0ub3BlbigpO1xufTtcblxuY29uc3QgZ2FsbGVyeUl0ZW1zID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGNyZWF0ZU5ld0NhcmQoaXRlbSwgJyNnYWxsZXJ5LWl0ZW0nLCBwb3B1cFBob3RvVmlld2VyLm9wZW4uYmluZChwb3B1cFBob3RvVmlld2VyKSk7XG4gICAgfVxuICB9LFxuICAnLmdhbGxlcnknXG4pO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7bmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2Z1bGwtbmFtZScsIHVzZXJJbmZvU2VsZWN0b3I6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nfSk7XG5jb25zdCBwb3B1cFBob3RvVmlld2VyID0gbmV3IFBvcHVwV2l0aEltYWdlKCcuZm9ybV90eXBlX2ZvdG8tdmlld2VyJyk7XG5jb25zdCBwb3B1cEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5mb3JtX3R5cGVfZWRpdCcsIHN1Ym1pdEVkaXRGb3JtKTtcbmNvbnN0IHBvcHVwQWRkaW5nRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcuZm9ybV90eXBlX2FkZGluZycsIHN1Ym1pdEFkZGluZ0Zvcm0pO1xuXG5jb25zdCBmb3JtRWRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sICcuZm9ybV9fY29udGFpbmVyX3R5cGVfZWRpdCcpO1xuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgZm9ybUFkZGluZ1ZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sICcuZm9ybV9fY29udGFpbmVyX3R5cGVfYWRkaW5nJyk7XG5mb3JtQWRkaW5nVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdEZvcm0pO1xucHJvZmlsZUFkZGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRpbmdGb3JtKTtcblxuZ2FsbGVyeUl0ZW1zLnJlbmRlckl0ZW1zKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbSA9IChlbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShlbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKCB7bmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yfSApIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcmluZm8gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmdWxsTmFtZTogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxyXG4gICAgICB1c2VyRGVzY3JpcHRpb246IHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IudGV4dENvbnRlbnRcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRVc2VySW5mbyA9ICh7dmFsdWUwOiBmdWxsTmFtZSwgdmFsdWUxOiB1c2VyRGVzY3JpcHRpb259KSA9PiB7XHJcbiAgICB0aGlzLl9uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBmdWxsTmFtZTtcclxuICAgIHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IudGV4dENvbnRlbnQgPSB1c2VyRGVzY3JpcHRpb247XHJcbiAgfTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9