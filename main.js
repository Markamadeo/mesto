(()=>{"use strict";var e=document.querySelector(".profile__edit-botton"),t=document.querySelector(".profile__add-botton"),r=(document.querySelector(".form_type_adding"),document.querySelector(".form__textinput_type_edit-full-name")),n=document.querySelector(".form__textinput_type_edit-description"),o=addingForm.querySelector(".form__submit-button_type_adding-add-button"),i={formSelector:".form__container_type_submit-form",inputSelector:".form__textinput",submitButtonSelector:".form__submit-button",errorSelector:".form_error",inactiveButtonClass:"form__submit-button_disabled",inputErrorClass:"form__textinput_type_error",errorClass:"form__error_visible"};function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=function(){r._togglePopupStatus(r._form),r._closeButton.removeEventListener("keydown",r.close),document.removeEventListener("keydown",r._handleEscClose),r._form.removeEventListener("click",r._handleClickClose)},this._handleClickClose=function(e){e.target===e.currentTarget&&r.close()},this._handleEscClose=function(e){"Escape"===e.key&&r.close()},this._form=document.querySelector(t),this._formContainer=this._form.querySelector(".form__container"),this._closeButton=this._form.querySelector(".form__close-button"),this._submitButtom=this._form.querySelector(".form__submit-button")}var t,r;return t=e,(r=[{key:"open",value:function(){this._togglePopupStatus(this._form)}},{key:"setEventListeners",value:function(){this._closeButton.addEventListener("click",this.close),document.addEventListener("keydown",this._handleEscClose),this._form.addEventListener("click",this._handleClickClose)}},{key:"_togglePopupStatus",value:function(e){e.classList.toggle("form_status_active")}}])&&s(t.prototype,r),e}();function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,r){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(n);if(o){var r=p(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return _(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this,e))._viewerImg=t._form.querySelector(".form__foto-viewer-img"),t._viewerDescription=t._form.querySelector(".form__foto-viewer-description"),t}return t=s,(r=[{key:"open",value:function(e,t){this._viewerImg.setAttribute("src",t),this._viewerImg.setAttribute("alt",e),this._viewerDescription.textContent=e,l(p(s.prototype),"open",this).call(this),l(p(s.prototype),"setEventListeners",this).call(this)}}])&&u(t.prototype,r),s}(c);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t,r){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,r,n,o,i=(n=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(n);if(o){var r=S(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function s(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=i.call(this,e))._submit=t.bind(g(r)),r}return t=s,(r=[{key:"open",value:function(){y(S(s.prototype),"open",this).call(this),this.setEventListeners()}},{key:"close",value:function(){this._formContainer.reset(),y(S(s.prototype),"close",this).call(this),this._formContainer.removeEventListener("submit",this._submit)}},{key:"setEventListeners",value:function(){y(S(s.prototype),"setEventListeners",this).call(this),this._formContainer.addEventListener("submit",this._submit)}},{key:"_getInputsValues",value:function(){var e=this._form.querySelectorAll(".form__textinput"),t={};return e.forEach((function(e,r){t["value".concat(r)]=e.value})),t}}])&&h(t.prototype,r),s}(c);function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._selector=r,this._openViewerForm=n}var t,r;return t=e,(r=[{key:"_getTamplate",value:function(){return document.querySelector(this._selector).content.cloneNode(!0).querySelector(".gallery-item")}},{key:"_likeHandler",value:function(){var e=this;this._cardProperties.like.addEventListener("click",(function(){e._cardProperties.like.classList.toggle("gallery-item__heart-button_type_active")}))}},{key:"_deleteHandler",value:function(){var e=this;this._cardProperties.trash.addEventListener("click",(function(t){e._card.remove(),e._card=null}))}},{key:"_imgHandler",value:function(){var e=this;this._cardProperties.img.addEventListener("click",(function(){e._openViewerForm(e._name,e._link)}))}},{key:"_setEventListeners",value:function(){this._likeHandler(),this._deleteHandler(),this._imgHandler()}},{key:"generateCard",value:function(){return this._card=this._getTamplate(),this._cardProperties={img:this._card.querySelector(".gallery-item__image"),like:this._card.querySelector(".gallery-item__heart-button"),trash:this._card.querySelector(".gallery-item__trash-button"),title:this._card.querySelector(".gallery-item__title")},this._cardProperties.img.setAttribute("src","".concat(this._link)),this._cardProperties.img.setAttribute("alt","".concat(this._name)),this._cardProperties.title.textContent=this._name,this._setEventListeners(),this._card}}])&&w(t.prototype,r),e}(),C=function(e,t,r){return new E(e,t,r).generateCard()},L=function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._showErrorMessage=function(e,t){e.textContent=t.validationMessage,e.classList.add(n._errorClass)},this._hideErrorMessage=function(e){e.classList.remove(n._errorClass)},this._checkInputValidity=function(e,t){var r=t.validity.valid,o=e.querySelector("#".concat(t.name,"-error"));r?(n._hideErrorMessage(o),t.classList.remove(n._inputErrorClass)):(n._showErrorMessage(o,t),t.classList.add(n._inputErrorClass))},this._changeSubmitButtonStatus=function(e,t){var r=e.querySelector(n._submitButtonSelector);t.map((function(e){return e.validity.valid})).some((function(e){return!e}))?(r.classList.add(n._inactiveButtonClass),r.setAttribute("disabled",!0)):(r.classList.remove(n._inactiveButtonClass),r.removeAttribute("disabled"))},this.setEventListeners=function(e){var t=Array.from(e.querySelectorAll(n._inputSelector));t.forEach((function(r){r.addEventListener("input",(function(){n._checkInputValidity(e,r),n._changeSubmitButtonStatus(e,t)}))}))},this.enableValidation=function(){var e=document.querySelector(n._selector);e.addEventListener("submit",(function(e){e.preventDefault()})),n.setEventListeners(e)},this._formSelector=t.formSelector,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._errorSelector=t.errorSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._selector=r},O=new function e(t,r){var n=this,o=t.items,i=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.addItem=function(e){n._container.prepend(e)},this.renderItems=function(){n._items.forEach((function(e){var t=n._renderer(e);n.addItem(t)}))},this._items=o,this._renderer=i,this._container=document.querySelector(r)}({items:[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}],renderer:function(e){return C(e,"#gallery-item",j.open.bind(j))}},".gallery"),P=new function e(t){var r=this,n=t.nameSelector,o=t.userInfoSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getUserinfo=function(){return{fullName:r._nameSelector.textContent,userDescription:r._userInfoSelector.textContent}},this.setUserInfo=function(e){var t=e.value0,n=e.value1;r._nameSelector.textContent=t,r._userInfoSelector.textContent=n},this._nameSelector=document.querySelector(n),this._userInfoSelector=document.querySelector(o)}({nameSelector:".profile__full-name",userInfoSelector:".profile__description"}),j=new d(".form_type_foto-viewer"),q=new k(".form_type_edit",(function(){P.setUserInfo(this._getInputsValues()),this.close()})),x=new k(".form_type_adding",(function(){var e=this._getInputsValues(),t={name:e.value0,link:e.value1},r=C(t,"#gallery-item",j.open.bind(j));O.addItem(r),this.close()}));new L(i,".form__container_type_edit").enableValidation(),new L(i,".form__container_type_adding").enableValidation(),e.addEventListener("click",(function(){var e=P.getUserinfo();r.value=e.fullName,n.value=e.userDescription,q.open()})),t.addEventListener("click",(function(){o.setAttribute("disabled",!0),o.classList.add("form__submit-button_disabled"),x.open()})),O.renderItems()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sIm5hbWVzIjpbInByb2ZpbGVFZGl0QnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicHJvZmlsZUFkZGluZ0J1dHRvbiIsImVkaXRGb3JtRnVsbE5hbWUiLCJlZGl0Rm9ybURlc2NyaXB0aW9uIiwic3VibWl0QnV0dG9uIiwiYWRkaW5nRm9ybSIsInBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0iLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJlcnJvclNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJQb3B1cCIsInNlbGVjdG9yIiwiY2xvc2UiLCJfdG9nZ2xlUG9wdXBTdGF0dXMiLCJfZm9ybSIsIl9jbG9zZUJ1dHRvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJfaGFuZGxlQ2xpY2tDbG9zZSIsImV2ZW50IiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsImtleSIsInRoaXMiLCJfZm9ybUNvbnRhaW5lciIsIl9zdWJtaXRCdXR0b20iLCJhZGRFdmVudExpc3RlbmVyIiwiZWxlbSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIlBvcHVwV2l0aEltYWdlIiwiX3ZpZXdlckltZyIsIl92aWV3ZXJEZXNjcmlwdGlvbiIsIm5hbWUiLCJsaW5rIiwic2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0IiwiX3N1Ym1pdCIsImJpbmQiLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0IiwiZGF0YVVzZXJBcnIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGF0YVVzZXIiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwidmFsdWUiLCJDYXJkIiwiZGF0YSIsIm9wZW5WaWV3ZXJGb3JtIiwiX25hbWUiLCJfbGluayIsIl9zZWxlY3RvciIsIl9vcGVuVmlld2VyRm9ybSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFByb3BlcnRpZXMiLCJsaWtlIiwidHJhc2giLCJfY2FyZCIsInJlbW92ZSIsImltZyIsIl9saWtlSGFuZGxlciIsIl9kZWxldGVIYW5kbGVyIiwiX2ltZ0hhbmRsZXIiLCJfZ2V0VGFtcGxhdGUiLCJ0aXRsZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImNyZWF0ZU5ld0NhcmQiLCJ0ZW1wbGF0ZSIsImZ1bmMiLCJnZW5lcmF0ZUNhcmQiLCJGb3JtVmFsaWRhdG9yIiwicGFyYW1zIiwiX3Nob3dFcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImFkZCIsIl9lcnJvckNsYXNzIiwiX2hpZGVFcnJvck1lc3NhZ2UiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZm9ybSIsImlucHV0RWxlbWVudFN0YXRlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJfY2hhbmdlU3VibWl0QnV0dG9uU3RhdHVzIiwidXNlcklucHV0cyIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIm1hcCIsImlucHV0Iiwic29tZSIsInN0YXRlIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJyZW1vdmVBdHRyaWJ1dGUiLCJBcnJheSIsImZyb20iLCJfaW5wdXRTZWxlY3RvciIsImVuYWJsZVZhbGlkYXRpb24iLCJ1c2VyRm9ybSIsInByZXZlbnREZWZhdWx0IiwiX2Zvcm1TZWxlY3RvciIsIl9lcnJvclNlbGVjdG9yIiwiZ2FsbGVyeUl0ZW1zIiwiaXRlbXMiLCJyZW5kZXJlciIsImFkZEl0ZW0iLCJlbGVtZW50IiwiX2NvbnRhaW5lciIsInByZXBlbmQiLCJyZW5kZXJJdGVtcyIsIl9pdGVtcyIsIl9yZW5kZXJlciIsInBvcHVwUGhvdG9WaWV3ZXIiLCJvcGVuIiwidXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJ1c2VySW5mb1NlbGVjdG9yIiwiZ2V0VXNlcmluZm8iLCJmdWxsTmFtZSIsIl9uYW1lU2VsZWN0b3IiLCJ1c2VyRGVzY3JpcHRpb24iLCJfdXNlckluZm9TZWxlY3RvciIsInNldFVzZXJJbmZvIiwidmFsdWUwIiwidmFsdWUxIiwicG9wdXBFZGl0Rm9ybSIsIl9nZXRJbnB1dHNWYWx1ZXMiLCJwb3B1cEFkZGluZ0Zvcm0iLCJkYXRhSW5wdXQiLCJjYXJkIiwidXNlckRhdGEiXSwibWFwcGluZ3MiOiJtQkFBTyxJQUFNQSxFQUFvQkMsU0FBU0MsY0FBYyx5QkFDM0NDLEVBQXNCRixTQUFTQyxjQUFjLHdCQUU3Q0UsR0FEa0JILFNBQVNDLGNBQWMscUJBQ3RCRCxTQUFTQyxjQUFjLHlDQUMxQ0csRUFBc0JKLFNBQVNDLGNBQWMsMENBQzdDSSxFQUFlQyxXQUFXTCxjQUFjLCtDQTZCeENNLEVBQTRCLENBQ3ZDQyxhQUFjLG9DQUNkQyxjQUFlLG1CQUNmQyxxQkFBc0IsdUJBQ3RCQyxjQUFlLGNBQ2ZDLG9CQUFxQiwrQkFDckJDLGdCQUFpQiw2QkFDakJDLFdBQVksdUIsMEtDekNP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QUN0Q29HLEVBQWdCLElBQUk3RixFQUFjLG1CQXpDeEMsV0FDRWtGLEVBQVNRLFlBQVl4RyxLQUFLNEcsb0JBQzFCNUcsS0FBS1gsV0F3Q0R3SCxFQUFrQixJQUFJL0YsRUFBYyxxQkFyQzFDLFdBQ0UsSUFBTVEsRUFBV3RCLEtBQUs0RyxtQkFDaEJFLEVBQVksQ0FDaEJwRyxLQUFNWSxFQUFTbUYsT0FDZjlGLEtBQU1XLEVBQVNvRixRQUVYSyxFQUFPL0QsRUFBYzhELEVBQVcsZ0JBQWlCaEIsRUFBaUJDLEtBQUs5RSxLQUFLNkUsSUFDbEZWLEVBQWFHLFFBQVF3QixHQUNyQi9HLEtBQUtYLFdBK0JtQixJQUFJK0QsRUFBY3pFLEVBQTJCLDhCQUNyRG9HLG1CQUNVLElBQUkzQixFQUFjekUsRUFBMkIsZ0NBQ3JEb0csbUJBRXBCNUcsRUFBa0JnQyxpQkFBaUIsU0FqQ2QsV0FDbkIsSUFBTTZHLEVBQVdoQixFQUFTRyxjQUMxQjVILFFBQXlCeUksRUFBU1osU0FDbEM1SCxRQUE0QndJLEVBQVNWLGdCQUNyQ0ssRUFBY1osVUE4QmhCekgsRUFBb0I2QixpQkFBaUIsU0EzQmQsV0FDckIxQixlQUEwQixZQUFZLEdBQ3RDQSxnQkFBMkIsZ0NBQzNCb0ksRUFBZ0JkLFVBMEJsQlgsRUFBYU8sZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYm90dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1ib3R0b24nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkaW5nRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfYWRkaW5nJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybUZ1bGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RleHRpbnB1dF90eXBlX2VkaXQtZnVsbC1uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX3RleHRpbnB1dF90eXBlX2VkaXQtZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGFkZGluZ0Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3N1Ym1pdC1idXR0b25fdHlwZV9hZGRpbmctYWRkLWJ1dHRvbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2Fya2h5ei5qcGcnLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmNCy0LDQvdC+0LLQvicsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2l2YW5vdm8uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQva2FtY2hhdGthLmpwZycsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJyxcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJyxcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0gPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm1fX2NvbnRhaW5lcl90eXBlX3N1Ym1pdC1mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX3RleHRpbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0LWJ1dHRvbicsXHJcbiAgZXJyb3JTZWxlY3RvcjogJy5mb3JtX2Vycm9yJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9fdGV4dGlucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUNvbnRhaW5lciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2NvbnRhaW5lcicpO1xuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fY2xvc2UtYnV0dG9uJyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9tID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc3VibWl0LWJ1dHRvbicpO1xuICB9XG5cbiAgb3BlbiAoKSB7XG4gICAgdGhpcy5fdG9nZ2xlUG9wdXBTdGF0dXModGhpcy5fZm9ybSk7XG4gIH07XG5cbiAgY2xvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fdG9nZ2xlUG9wdXBTdGF0dXModGhpcy5fZm9ybSk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuY2xvc2UpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrQ2xvc2UpO1xuICB9O1xuXG4gIF90b2dnbGVQb3B1cFN0YXR1cyAoZWxlbSkge1xuICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnZm9ybV9zdGF0dXNfYWN0aXZlJyk7XG4gIH07XG5cbiAgX2hhbmRsZUNsaWNrQ2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBldmVudC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvcikge1xuICAgICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgICAgdGhpcy5fdmlld2VySW1nID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fZm90by12aWV3ZXItaW1nJyk7XG4gICAgICB0aGlzLl92aWV3ZXJEZXNjcmlwdGlvbj0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fZm90by12aWV3ZXItZGVzY3JpcHRpb24nKTtcbiAgICB9XG5cbiAgICBvcGVuIChuYW1lLCBsaW5rKSB7XG4gICAgICB0aGlzLl92aWV3ZXJJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBsaW5rKTtcbiAgICAgIHRoaXMuX3ZpZXdlckltZy5zZXRBdHRyaWJ1dGUoJ2FsdCcsIG5hbWUpO1xuICAgICAgdGhpcy5fdmlld2VyRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgc3VwZXIub3BlbigpO1xuICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgc3VibWl0KSB7XG4gICAgc3VwZXIoc2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdCA9IHN1Ym1pdC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbiAoKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlICgpIHtcbiAgICB0aGlzLl9mb3JtQ29udGFpbmVyLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdCk7XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9zdWJtaXQpO1xuICB9O1xuXG4gIF9nZXRJbnB1dHNWYWx1ZXMgKCkge1xuICAgIGNvbnN0IGRhdGFVc2VyQXJyID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcuZm9ybV9fdGV4dGlucHV0Jyk7XG4gICAgY29uc3QgZGF0YVVzZXIgPSB7fTtcbiAgICBkYXRhVXNlckFyci5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgZGF0YVVzZXJbYHZhbHVlJHtpbmRleH1gXSA9IGl0ZW0udmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRhdGFVc2VyO1xuICB9O1xufVxuIiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvciAoZGF0YSwgc2VsZWN0b3IsIG9wZW5WaWV3ZXJGb3JtKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX3NlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgdGhpcy5fb3BlblZpZXdlckZvcm0gPSBvcGVuVmlld2VyRm9ybTtcbiAgfVxuXG4gIF9nZXRUYW1wbGF0ZSgpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgIGNvbnN0IGNhcmQgPSB0ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtJyk7XG4gICAgcmV0dXJuIGNhcmQ7XG4gIH1cblxuICBfbGlrZUhhbmRsZXIoKSB7XG4gICAgdGhpcy5fY2FyZFByb3BlcnRpZXMubGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLmxpa2UuY2xhc3NMaXN0LnRvZ2dsZSgnZ2FsbGVyeS1pdGVtX19oZWFydC1idXR0b25fdHlwZV9hY3RpdmUnKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9kZWxldGVIYW5kbGVyKCkge1xuICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLnRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICAgICAgdGhpcy5fY2FyZCA9IG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBfaW1nSGFuZGxlcigpIHtcbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9vcGVuVmlld2VyRm9ybSh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlSGFuZGxlcigpO1xuICAgIHRoaXMuX2RlbGV0ZUhhbmRsZXIoKTtcbiAgICB0aGlzLl9pbWdIYW5kbGVyKCk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRhbXBsYXRlKCk7XG5cbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcyA9IHtcbiAgICAgICdpbWcnOiB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5LWl0ZW1fX2ltYWdlJyksXG4gICAgICAnbGlrZSc6IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktaXRlbV9faGVhcnQtYnV0dG9uJyksXG4gICAgICAndHJhc2gnOiAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeS1pdGVtX190cmFzaC1idXR0b24nKSxcbiAgICAgICd0aXRsZSc6IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcignLmdhbGxlcnktaXRlbV9fdGl0bGUnKVxuICAgIH1cblxuICAgIHRoaXMuX2NhcmRQcm9wZXJ0aWVzLmltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke3RoaXMuX2xpbmt9YCk7XG4gICAgdGhpcy5fY2FyZFByb3BlcnRpZXMuaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgYCR7dGhpcy5fbmFtZX1gKTtcbiAgICB0aGlzLl9jYXJkUHJvcGVydGllcy50aXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xuICB9XG59XG4iLCJpbXBvcnQge0NhcmR9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChkYXRhLCB0ZW1wbGF0ZSwgZnVuYykgPT4ge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCB0ZW1wbGF0ZSwgZnVuYyk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcywgc2VsZWN0b3IpIHtcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBwYXJhbXMuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBwYXJhbXMuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHBhcmFtcy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9lcnJvclNlbGVjdG9yID0gIHBhcmFtcy5lcnJvclNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBwYXJhbXMuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBwYXJhbXMuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSAgcGFyYW1zLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIF9zaG93RXJyb3JNZXNzYWdlID0gKGVycm9yRWxlbWVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9oaWRlRXJyb3JNZXNzYWdlID0gKGVycm9yRWxlbWVudCkgPT4ge1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybSwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50U3RhdGUgPSBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQubmFtZX0tZXJyb3JgKTtcblxuICAgIGlmIChpbnB1dEVsZW1lbnRTdGF0ZSkge1xuICAgICAgdGhpcy5faGlkZUVycm9yTWVzc2FnZShlcnJvckVsZW1lbnQpO1xuICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yTWVzc2FnZShlcnJvckVsZW1lbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIH1cbiAgfTtcblxuICBfY2hhbmdlU3VibWl0QnV0dG9uU3RhdHVzID0gKGZvcm0sIHVzZXJJbnB1dHMpID0+IHtcbiAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuXG4gICAgY29uc3QgaW5wdXRzVmFsaWRhdGlvblN0YXRlID0gdXNlcklucHV0cy5tYXAoaW5wdXQgPT4ge1xuICAgICAgcmV0dXJuIGlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1WYWxpZCA9ICFpbnB1dHNWYWxpZGF0aW9uU3RhdGUuc29tZShzdGF0ZSA9PiB7XG4gICAgICByZXR1cm4gIXN0YXRlO1xuICAgIH0pO1xuXG4gICAgaWYgKGZvcm1WYWxpZCkge1xuICAgICAgc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzID0gKGZvcm0pID0+IHtcbiAgICBjb25zdCB1c2VySW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuXG4gICAgdXNlcklucHV0cy5mb3JFYWNoKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtLCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9jaGFuZ2VTdWJtaXRCdXR0b25TdGF0dXMoZm9ybSwgdXNlcklucHV0cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHVzZXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3Rvcik7XG4gICAgdXNlckZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnModXNlckZvcm0pO1xuICB9O1xufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgeyBpbml0aWFsQ2FyZHMsIHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sIHByb2ZpbGVFZGl0QnV0dG9uLCBwcm9maWxlQWRkaW5nQnV0dG9uLCBlZGl0Rm9ybUZ1bGxOYW1lLCBlZGl0Rm9ybURlc2NyaXB0aW9uLCBzdWJtaXRCdXR0b24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7IGNyZWF0ZU5ld0NhcmQgfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuXG5mdW5jdGlvbiBzdWJtaXRFZGl0Rm9ybSAoKSB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHRoaXMuX2dldElucHV0c1ZhbHVlcygpKTtcbiAgdGhpcy5jbG9zZSgpO1xufTtcblxuZnVuY3Rpb24gc3VibWl0QWRkaW5nRm9ybSAoKSB7XG4gIGNvbnN0IGRhdGFVc2VyID0gdGhpcy5fZ2V0SW5wdXRzVmFsdWVzKCk7XG4gIGNvbnN0IGRhdGFJbnB1dCA9IHtcbiAgICBuYW1lOiBkYXRhVXNlci52YWx1ZTAsXG4gICAgbGluazogZGF0YVVzZXIudmFsdWUxXG4gIH07XG4gIGNvbnN0IGNhcmQgPSBjcmVhdGVOZXdDYXJkKGRhdGFJbnB1dCwgJyNnYWxsZXJ5LWl0ZW0nLCBwb3B1cFBob3RvVmlld2VyLm9wZW4uYmluZChwb3B1cFBob3RvVmlld2VyKSk7XG4gIGdhbGxlcnlJdGVtcy5hZGRJdGVtKGNhcmQpO1xuICB0aGlzLmNsb3NlKCk7XG59O1xuXG5jb25zdCBvcGVuRWRpdEZvcm0gPSAoKSA9PiB7XG4gIGNvbnN0IHVzZXJEYXRhID0gdXNlckluZm8uZ2V0VXNlcmluZm8oKTtcbiAgZWRpdEZvcm1GdWxsTmFtZS52YWx1ZSA9IHVzZXJEYXRhLmZ1bGxOYW1lO1xuICBlZGl0Rm9ybURlc2NyaXB0aW9uLnZhbHVlID0gdXNlckRhdGEudXNlckRlc2NyaXB0aW9uO1xuICBwb3B1cEVkaXRGb3JtLm9wZW4oKTtcbn07XG5cbmNvbnN0IG9wZW5BZGRpbmdGb3JtID0gKCkgPT4ge1xuICBzdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnZm9ybV9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZCcpO1xuICBwb3B1cEFkZGluZ0Zvcm0ub3BlbigpO1xufTtcblxuY29uc3QgZ2FsbGVyeUl0ZW1zID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGNyZWF0ZU5ld0NhcmQoaXRlbSwgJyNnYWxsZXJ5LWl0ZW0nLCBwb3B1cFBob3RvVmlld2VyLm9wZW4uYmluZChwb3B1cFBob3RvVmlld2VyKSk7XG4gICAgfVxuICB9LFxuICAnLmdhbGxlcnknXG4pO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7bmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX2Z1bGwtbmFtZScsIHVzZXJJbmZvU2VsZWN0b3I6ICcucHJvZmlsZV9fZGVzY3JpcHRpb24nfSk7XG5jb25zdCBwb3B1cFBob3RvVmlld2VyID0gbmV3IFBvcHVwV2l0aEltYWdlKCcuZm9ybV90eXBlX2ZvdG8tdmlld2VyJyk7XG5jb25zdCBwb3B1cEVkaXRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5mb3JtX3R5cGVfZWRpdCcsIHN1Ym1pdEVkaXRGb3JtKTtcbmNvbnN0IHBvcHVwQWRkaW5nRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcuZm9ybV90eXBlX2FkZGluZycsIHN1Ym1pdEFkZGluZ0Zvcm0pO1xuXG5jb25zdCBmb3JtRWRpdFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sICcuZm9ybV9fY29udGFpbmVyX3R5cGVfZWRpdCcpO1xuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgZm9ybUFkZGluZ1ZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHBhcmFtc0ZvclZhbGlkYXRpb25PZkZvcm0sICcuZm9ybV9fY29udGFpbmVyX3R5cGVfYWRkaW5nJyk7XG5mb3JtQWRkaW5nVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRWRpdEZvcm0pO1xucHJvZmlsZUFkZGluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5BZGRpbmdGb3JtKTtcblxuZ2FsbGVyeUl0ZW1zLnJlbmRlckl0ZW1zKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoe2l0ZW1zLCByZW5kZXJlcn0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbSA9IChlbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XHJcbiAgICAgIHRoaXMuYWRkSXRlbShlbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKCB7bmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yfSApIHtcclxuICAgIHRoaXMuX25hbWVTZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcmluZm8gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmdWxsTmFtZTogdGhpcy5fbmFtZVNlbGVjdG9yLnRleHRDb250ZW50LFxyXG4gICAgICB1c2VyRGVzY3JpcHRpb246IHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IudGV4dENvbnRlbnRcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRVc2VySW5mbyA9ICh7dmFsdWUwOiBmdWxsTmFtZSwgdmFsdWUxOiB1c2VyRGVzY3JpcHRpb259KSA9PiB7XHJcbiAgICB0aGlzLl9uYW1lU2VsZWN0b3IudGV4dENvbnRlbnQgPSBmdWxsTmFtZTtcclxuICAgIHRoaXMuX3VzZXJJbmZvU2VsZWN0b3IudGV4dENvbnRlbnQgPSB1c2VyRGVzY3JpcHRpb247XHJcbiAgfTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9